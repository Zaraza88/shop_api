# Тестовое задание

Функциональные требования:

1. В случае успешной обработки сервис должен
отвечать статусом 200, в случае любой ошибки —
статус 400
2. Сохранение всех объектов в базе данных.
3. Запросы:
    - GET /city/ — получение всех городов из базы
    - GET /city//street/ — получение всех улиц города
(city_id — идентификатор города)
    - POST /shop/ — создание магазина. Данный метод
получает json c объектом магазина, в ответ
возвращает id созданной записи.
    - GET /shop/?street=&city=&open=0/1 — получение
списка магазинов
        - Метод принимает параметры дл фильтрации.
Параметры не обзательны. В случае отсутстви
параметров выводятся все магазины, если хоть
один параметр есть ,то по нему выполнется
фильтрация
        - Важно! В объекте каждого магазина
выводитс название города и улицы, а не id
записей
        - Параметр open: 0 - закрыт, 1 - открыт. Данный
статус определетс исход из параметров
"Врем открытия", "Врем закрытия" и текущего
времени сервера.

Объекты:
- Магазин:
    - Название 
    - Город
    - Улица
    - Дом
    - Врем открытия
    - Врем закрытия

- Город:
    - Название
- Улица:
    - Название
    - Город
1. Замечание: поле id у объектов не указаны, но
подразумевается что они есть.
2. Важно: Выстроить связи между таблицами в базе
данных.

Инструменты:
1. Фреймворк для обработки http запросов Django +
Django Rest Framework.
2. Реляционная БД (PostgreSQL - предпочтительно,
MySQL и тд)
3. Запросы в базу данных через ORM (ORM Nа выбор).


## Установка

1. Скачать проект
   - git clone https://github.com/Zaraza88/shop_api.git
2. Добавить виртуальное окружение
   - python3 -m venv venv  (или python -m venv venv)
3. Активировать виртуальное окружение
```
   Linux - source venv/bin/activate
   Windows - venv\Scripts\activate.bat
```
4. Установите зависимости в виртуальное окружение.

```
   - pip install -r requirement.txt
```
## Запуск проекта
#### Если вы используете Linux, то следует писать **./manage.py**, если Windows - **python manage.py**
1. Создать миграции
```
   ./manage.py makemigrations
   ./manage.py migrate
```
2. Создать суперюзера
```
   ./manage.py createsuperuser
```
3. Запустить сервер
```
   ./manage.py runserver
```
### Для навигации использовать либо автодокументацию - **http://127.0.0.1:8000/swagger/**, либо:
```
http://127.0.0.1:8000/api/v1/city/ - Вывод списка всех городов
http://127.0.0.1:8000/api/v1/city/city_id/street - Вывод улиц города city_id
http://127.0.0.1:8000/api/v1/create_shop/ - Создать магазин
http://127.0.0.1:8000/api/v1/shop/ - Вывод списка всех магазинов
```



